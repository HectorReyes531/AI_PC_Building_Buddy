<!DOCTYPE HTML>

<html>

<head>
    <title>Trending News</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css" />
    </noscript>
</head>

<body class="is-preload">

    <!-- Page Wrapper -->
    <div id="page-wrapper">

        <!-- Header -->
        <header id="header">
            <h1><a href="index.html">PC Building Buddy</a></h1>
            <nav id="nav">
                <ul>
                    <li class="special">
                        <a href="#menu" class="menuToggle"><span>Menu</span></a>
                        <div id="menu">
                            <ul>
                                <li><a href="index.html">Home</a></li>
                                <li><a href="generic.html">Generic</a></li>
                                <li><a href="elements.html">Elements</a></li>
                                <li><a href="news.html">News</a></li>
                                <li><a href="howtobuild.html">How-To-Build Guide</a></li>
                                <li><a href="#">Sign Up</a></li>
                                <li><a href="#">Log In</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>
        </header>

        <!-- Main -->
        <article id="main">
            <header>
                <h2>Trending News about Technology</h2>
                <p>Results within the last month</p>
            </header>
            <section class="wrapper style5">
                <div class="container">
                    <h2>Current Trending News</h2>
                    <div class="row content">
                        <!--Creating a Card to fit the article in-->
                        <div class="card my-3 mx-3" style="width:250px">
                            <img src="..." class="card-image-top" alt="...">
                            <div class="card-body">
                                <h5 class="card-title"> Card Title</h5>
                                <p class="card-text">...</p>
                                <a href="#" target="_blank" rel="noopener noreferrer" class="btn btn-primary">Link</a>
                            </div>
                        </div>
                
                    </div>
                    <div class="d-flex justify-content-end">
                        <button class="btn btn-primary">Previous</button>
                        <button class="btn btn-primary">Next</button>
                    </div>
                </div>
            </section>
        </article>

        <!-- Footer -->
        <footer id="footer">
            <ul class="icons">
                <li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
                <li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
                <li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
                <li><a href="#" class="icon brands fa-dribbble"><span class="label">Dribbble</span></a></li>
                <li><a href="#" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
            </ul>
            <ul class="copyright">
                <li>&copy; Untitled</li>
                <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
            </ul>
        </footer>

    </div>

    <!-- Scripts -->
    <!-- Have to place ampersand before -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/browser.min.js"></script>
    <script src="assets/js/breakpoints.min.js"></script>
    <script src="assets/js/util.js"></script>
    <script src="assets/js/main.js"></script>

    <script>
        const fetchNews = async (page, q) => {

            console.log("getting news...");
            var url = 'https://newsapi.org/v2/everything?' +
                'q=' +
                q +
                '&from=2024-02-16&' +
                'pageSize=12&' +
                'language=en&'+
                'page=' +
                page + 
                '&sortBy=popularity&' +
                'apiKey=1ebb9915990f40fb85979ee39a7f4a11';

            var req = new Request(url);

            let a = await fetch(req)
            let response = await a.json()
            // console.log(JSON.stringify(response))
            // console.log(response)
            let str = ""

            for(let item of response.articles){
                str = str + `<div class="card my-3 mx-3" style="width:250px">
                        <img src="${item.urlToImage}" class="card-image-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title"> ${item.title}</h5>
                            <p class="card-text">${item.description}</p>
                            <a href="${item.url}" target="_blank" rel="noopener noreferrer" class="btn btn-primary">Link</a>
                        </div>
                    </div>`
            }
            document.querySelector(".content").innerHTML = str
        }
        fetchNews(1, "technology")
    </script>

</body>

</html>