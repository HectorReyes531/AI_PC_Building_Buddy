<!DOCTYPE HTML>

<html>

<head>
	<title>Generate Your Build</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<link rel="stylesheet" href="assets/css/search.css" />
	<link rel="stylesheet" href="assets/accessories.css" />

	<link rel="stylesheet" href="assets\css\bootstrap.min.css" />

	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
	

	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>
	<style>
        #main header,
        h1 {
            color: #fff;
        }

        h1 {
            font: inherit;
            color: #fff;
            font-weight: 800;
            letter-spacing: 0.225em;
            line-height: 1em;
            margin: 0 0 1em 0;
            text-transform: uppercase;
        }

        #header h1 {
            -moz-transition: opacity 0.2s ease;
            -webkit-transition: opacity 0.2s ease;
            -ms-transition: opacity 0.2s ease;
            transition: opacity 0.2s ease;
            height: inherit;
            left: 1.25em;
            line-height: inherit;
            position: absolute;
            top: 0;
        }

        #header h1 a {
            border: 0;
            display: block;
            height: inherit;
            line-height: inherit;
        }

        @media screen and (max-width: 736px) {

            #header h1 a {
                font-size: 0.8em;
            }

        }
		.accessories {
			margin-top: 2em;
			padding: 1em;
			background-color: #f5f5f5;
			border: 1px solid #ccc;
		}

		.accessories h2 {
			font-size: 1.5em;
			margin-bottom: 1em;
			text-transform: uppercase;
			letter-spacing: 0.1em;
			color: #333;
		}

		.accessory {
			display: flex;
			flex-wrap: wrap;
			justify-content: space-between;
		}

		.accessory div {
			flex: 1 1 calc(25% - 1em);
			box-sizing: border-box;
			padding: 1em;
			margin: 0.5em;
			background-color: #fff;
			border: 1px solid #ddd;
			text-align: center;
		}

		.accessory div img {
			max-width: 100%;
			height: auto;
			margin-bottom: 0.5em;
			width: 150px; /* Set a fixed width */
			height: 150px; /* Set a fixed height */
			object-fit: cover; /* Ensure the image covers the defined area */
		}

		.accessory div p {
			margin: 0.5em 0;
			font-size: 1em;
			color: #333;
		}

		.accessory div .price {
			font-weight: bold;
			color: #21b2a6;
		}

		.accessory div .buy-btn {
			display: inline-block;
			margin-top: 0.5em;
			padding: 0.5em 1em;
			background-color: #21b2a6;
			color: #fff;
			text-decoration: none;
			border-radius: 0.25em;
		}

		.accessory div .buy-btn:hover {
			background-color: #1e9b8c;
		}


    </style>
</head>

<body class="is-preload">

	<!-- Page Wrapper -->
	<div id="page-wrapper">

		<!-- Header -->
		<header id="header">
			<h1><a href="index.html">PC Building Buddy</a></h1>
			<nav id="nav">
				<ul>
					<li class="special">
						<a href="#menu" class="menuToggle"><span>Menu</span></a>
						<div id="menu">
							<ul>
								<li><a href="index.html">Home</a></li>
								<li><a href="generate.html">Builder</a></li>
								<li><a href="news.html">News and Trends</a></li>
								<li><a href="howtobuild.html">How-To-Build Guide</a></li>
								<li><a href="dbrep.html">Data</a></li>
								<li><a href="login_signup.html">Register</a></li>
							</ul>
						</div>
					</li>
				</ul>
			</nav>
		</header>

		<!-- Main -->
		<article id="main">
			<header>
				<h2>PC Generator</h2>
				<p>This is where you specify your requirements for a generated computer.</p>
			</header>
			<section class="wrapper style5">
				<div class="inner">
					<!--search bar, can potentially link inputs to python file using cgi library-->
					<!--just need to change the action to ~/pyfile and add an action="get" i think-->

					<!-- SEARCH FORM  -->
					<p>Please mention if you have a game in mind or specify the budget you want for building the PC.</p>
					<form id="searchform" onsubmit="submitForm(event)">
						<div class="search">
							<span class="search-icon material-symbols-outlined">search</span>
							<input id="searchinput" class="search-input" type="search" placeholder="What did you want to build? ">
							<button type="submit" style="background-color: #21b2a6">Generate</button>
						</div>
					</form>

				</div>

					 <!-- Part input form -->
					 <form role="search" id="partInputForm" style="display: flex; flex-direction: column; align-items: center;">
						<button id="partsButton" class="btn btn-light" type="button" style="max-width: 250px; width: 100%; background-color: #f5f5f5; border: 1px solid #ccc; color: black; padding: 0.5em 1em;" onclick="location.href='dbrep.html';">PC Parts</button>
					</form>

					<div class="container">
						<div id="buildResults">
							<h3>PC Build</h3>
							<!-- Suggestions will be dynamically inserted here -->
							<table id="compitems">
								<tr>
									<th>Part</th>
									<th>Name</th>
									<!-- <th>Cost</th>
									<th>Link</th> -->
								</tr>
							</table>
		
						</div>
					</div>
					<div class="accessories">
						<h2>Recommended Accessories</h2>
						<div class="accessory">
						  <div>
							<img src="images/mousepad.jpg" alt="Mousepad">
							<p>Logitech G440 Hard Gaming Mouse Pad for Gaming</p>
							<p class="price">Price: $29.99</p>
						  </div>
						  <div>
							<img src="images/headsetstand.jpg" alt="Headsetstand">
							<p>Headset Stand</p>
							<p class="price">Price: $8.99</p>
						  </div>
						  <div>
							<img src="images/hdmi.jpg" alt="HDMI">
							<p>HDMI Cable</p>
							<p class="price">Price: $9.32</p>
						  </div>
						  <div>
							<img src="images/usbext.jpg" alt="USB">
							<p>USB Extension Cable</p>
							<p class="price">Price: $7.99</p>
						  </div>
						</div>
					  </div>
					  
				</section>
			</article>

					

		<!-- Footer -->
		<footer id="footer">
			<ul class="icons">
				<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
				<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
				<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
				<li><a href="#" class="icon brands fa-dribbble"><span class="label">Dribbble</span></a></li>
				<li><a href="#" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
			</ul>
			<ul class="copyright">
				<li>&copy; AI PC Buddy</li>
				<li>All Rights Reserved <a href="http://html5up.net">Bro Code</a></li>
			</ul>
		</footer>

	</div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrollex.min.js"></script>
	<script src="assets/js/jquery.scrolly.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>
	<script src="assets/js/bootstrap.bundle.min.js"></script>
	<script src="assets/js/generic.js"></script>

	<script>
		function submitForm(event) {
			// prevent default form submission
			event.preventDefault();
			
			// Capture user input: var userInput
			var userInput = document.getElementById("searchinput").value;

			
			// FIXME
			// var searchInput = document.getElementById("searchinput").input;
			// var gameBudget = document.getElementById("budgetInput").input
			// var userInput = searchInPut + "Budget of $ " + gameBudget;
			
			// Send user input over to execute python script locally
			fetch('execute_script', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/x-www-form-urlencoded',
				},
				body: 'prompt=' + encodeURIComponent(userInput),
			})
			.then(response => {
				if (!response.ok) {
					throw new Error('Server response was not OK')
				}
				return response.json();
			})

			.then(data => {
				// Display response from the Python script
				var responseContainer = document.getElementById("responseContainer");
				responseContainer.innerHTML = "<p>" + data.response + "</p>";

			})
			.catch(error => {
				console.error('Error:', error);
			});
		}
	</script>

</body>
</html>